
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Happy birthday</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>
<body>
    <div id="wrapper">
        <div id="nameModal" class="modal">
            <div class="modal-content">
                <h2>Nhập tên của bạn</h2>
                <input type="text" id="nameInput" placeholder="Nhập tên">
                <button id="submitName">Xác nhận</button>
            </div>
        </div>
        <div class="flag__birthday">
            <img src="./images/1.png" alt="" width="350" class="flag__left">
            <img src="./images/1.png" alt="" width="350" class="flag__right">
        </div>
        <div class="content" style="display:none;">
            <div class="left">
                <div class="title">
                    <h1 class="happy">
                        <span style="--t: 1s;">H</span>
                        <span style="--t: 1.2s;">a</span>
                        <span style="--t: 1.4s;">p</span>
                        <span style="--t: 1.6s;">p</span>
                        <span style="--t: 1.8s;">
                            y
                            <div class="hat">
                                <img src="./images/hat.png" alt="" width="130">
                            </div>
                        </span>
                    </h1>
                    <h1 class="birthday">
                        <span style="--t: 2s;">B</span>
                        <span style="--t: 2.2s;">i</span>
                        <span style="--t: 2.4s;">r</span>
                        <span style="--t: 2.6s;">t</span>
                        <span style="--t: 2.8s;">h</span>
                        <span style="--t: 2s;">d</span>
                        <span style="--t: 2.2s;">a</span>
                        <span style="--t: 2.4s;">y</span>
                    </h1>
                    
                </div>
                <div class="date__of__birth">
                    <span></span>
                </div>


                <div class="btn mail">
                    <button id="btn__letter">
                        Gửi bạn nè:))))
                        <i class="fa-regular fa-envelope"></i>
                    </button>
                </div>




            </div>
            <div class="right">
                <div class="box__account">
                    <div class="image">
                        <img style="position: relative; bottom:-25px;" src="./images/cr.jpg" alt="">
                    </div>
                    <div class="name">
                        <i class="fa-solid fa-star"></i>
                        <span>Thu hiền</span>
                        <i class="fa-solid fa-star"></i>
                    </div>
                    <div class="balloon_one">
                        <img width="100px" src="./images/balloon1.png" alt="">
                    </div>
                    <div class="balloon_two">
                        <img width="100px" src="./images/balloon2.png" alt="">
                    </div>
                </div>
                <div class="cricle">
                    <div class="text__cricle">
                        <span style="--i: 1;">h</span>
                        <span style="--i: 2;">a</span>
                        <span style="--i: 3;">p</span>
                        <span style="--i: 4;">p</span>
                        <span style="--i: 5;">y</span>
                        <span style="--i: 6;">-</span>
                        <span style="--i: 7;">b</span>
                        <span style="--i: 8;">i</span>
                        <span style="--i: 9;">r</span>
                        <span style="--i: 10;">t</span>
                        <span style="--i: 11;">h</span>
                        <span style="--i: 12;">d</span>
                        <span style="--i: 13;">a</span>
                        <span style="--i: 14;">y</span>
                        <span style="--i: 15;">-</span>
                    </div>
                    <i class="fa-solid fa-star"></i>
                </div>
                <span class="day">
                    
                </span>
                <span class="month"></span>
            </div>
        </div>
        <div class="decorate_star star1" style="--t: 12s;"></div>
        <div class="decorate_star star2" style="--t: 12.2s;"></div>
        <div class="decorate_star star3" style="--t: 12.4s;"></div>
        <div class="decorate_star star4" style="--t: 12.6s;"></div>
        <div class="decorate_star star5" style="--t: 12.8s;"></div>
        <div class="decorate_flower--one" style="--t: 12s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_flower--two" style="--t: 12.3s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_flower--three" style="--t: 12.6s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_bottom">
            <img src="./images/decorate.png" alt="" width="100">
        </div>
        <div class="smiley__icon">
            <img src="./images/smiley_icon.png" alt="" width="100">
        </div>

        

        <div class="box__letter">
            <div class="letter__border">
                <div class="letter">
                    <div class="title__letter">
                    </div>
                    <div class="content__letter">
                        <div class="left">
                            <img id="heart__letter" src="./images/heart_letter.png" alt="">
                            <img class="heart heart_1" style="--t: 0.2s" width="20" src="./images/heart.png" alt="">
                            <img class="heart heart_2" style="--t: 0.4s" width="20" src="./images/heart.png" alt="">
                            <img class="heart heart_3" style="--t: 0.6s" width="20" src="./images/heart.png" alt="">
                            <img class="heart heart_4" style="--t: 0.8s" width="20" src="./images/heart.png" alt="">
                        </div>
                        <div class="right">
                            <!-- <div class="love__img">
                                <img src="./images/love.png" alt="" width="180">
                            </div> -->
                            <div class="text__letter">
                                 <p></p>
                            </div>
                            <img id="mewmew" width="80" src="./images/mewmew.gif" alt="">
                        </div>
                    </div>
                </div>
                <div class="close">
                    <i class="fa-solid fa-xmark"></i>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    let datetxt = "02 - 06 - 2025";
    let datatxtletter = "";
    let titleLetter = " ";
    let charArrDate = datetxt.split('');
    let charArrDateLetter = datatxtletter.split('');
    let charArrTitle = titleLetter.split('');
    let currentIndex = 0;
    let currentIndexLetter = 0;
    let currentIndexTitle = 0;
    let date__of__birth = document.querySelector(".date__of__birth span");
    let text__letter = document.querySelector(".text__letter p");
    let userName = "";

    setTimeout(function(){
        timeDatetxt = setInterval(function(){
            if(currentIndex < charArrDate.length){
                date__of__birth.textContent += charArrDate[currentIndex];
                currentIndex++;
            }
            else{
                let i = document.createElement("i");
                i.className = "fa-solid fa-star"
                document.querySelector(".date__of__birth").prepend(i)
                document.querySelector(".date__of__birth").appendChild(i.cloneNode(true))
                clearInterval(timeDatetxt)
            }
        },100)
    },12000)

    var intervalContent;
    var intervalTitle;
    $("#btn__letter").on("click", function(){
        $(".box__letter").slideDown()
        setTimeout(function(){
            $(".letter__border").slideDown();
        },1000)
        setTimeout(function(){
            intervalTitle = setInterval(function(){
                if(currentIndexTitle < charArrTitle.length){
                    document.querySelector(".title__letter").textContent += charArrTitle[currentIndexTitle];
                    let i = document.createElement("i");
                    i.className = "fa-solid fa-star"
                    document.querySelector(".title__letter").appendChild(i)
                    currentIndexTitle++;
                }
                else{
                    clearInterval(intervalTitle)
                }
            },100)
        },2000)
        setTimeout(function(){
            document.querySelector("#heart__letter").classList.add("animationOp");
            // document.querySelector(".love__img").classList.add("animationOp");
            document.querySelector("#mewmew").classList.add("animationOp");
        },2800)
        setTimeout(function(){
            document.querySelectorAll(".heart").forEach((item)=>{
                item.classList.add("animation")
            })
        },3500)
        setTimeout(function(){
            intervalContent = setInterval(function(){
                if(currentIndexLetter < charArrDateLetter.length){
                    text__letter.textContent += charArrDateLetter[currentIndexLetter];
                    currentIndexLetter++;
                }
                else{
                    clearInterval(intervalContent)
                }
            },50)
        },6000)
    })
    $(".close").on("click", function(){
        clearInterval(intervalContent)
        document.querySelector(".title__letter").textContent = "";
        text__letter.textContent = "";
        currentIndexLetter = 0
        currentIndexTitle = 0
        document.querySelector("#heart__letter").classList.remove("animationOp");
        // document.querySelector(".love__img").classList.remove("animationOp");
        document.querySelector("#mewmew").classList.remove("animationOp");
        document.querySelectorAll(".heart").forEach((item)=>{
                item.classList.remove("animation")
            })
        $(".box__letter").slideUp();
        $(".letter__border").slideUp();
    })

    function updateLetterContent() {
        titleLetter = `Gửi ${userName} `;
        datatxtletter = `anh chúc em tuổi mới thì xinh hơn, giỏi hơn, giàu hơn và hạnh phúc hơn.Tuổi 25 là cột mốc tuyệt vời để bứt phá, anh tin em sẽ ngày càng thành công với đam mê kinh doanh của mình. Mong rằng mọi ý tưởng khởi nghiệp đều “chốt đơn” ầm ầm, mọi cơ hội đều đến đúng lúc, và ví tiền thì lúc nào cũng nặng trĩu!`;
        charArrTitle = titleLetter.split('');
        charArrDateLetter = charArrTitle.concat(datatxtletter.split(''));
    }

    $('#submitName').on('click', function() {
        userName = $('#nameInput').val();
        if (userName) {
            $('#nameModal').hide();
            $('.content').show();
            updateLetterContent();
        } else {
            alert('Vui lòng nhập tên của bạn.');
        }
    });

    //mobile

    function mobile(){
        const app = {
            timeout: function(txt, dom){
                let currentIndex = 0;
                let charArr = txt.split('')
                intervalMobile = setInterval(function(){
                    if(currentIndex < charArr.length){
                        dom.textContent += charArr[currentIndex];
                        currentIndex++;
                    }
                    else{
                        clearInterval(intervalMobile)
                    }
                },200)
            }
        }
        return app
    }
    const fcMobile = mobile()
    if(window.innerWidth < 768){
        setTimeout(()=>{
            fcMobile.timeout("02", document.querySelector(".day"))
        },5000)
        setTimeout(()=>{
            fcMobile.timeout("06", document.querySelector(".month"))
        },6000)
    }
    
</script>

<script>
    window.onload = function() {  
        var audio = document.getElementById('myAudio');  
        audio.play().catch(function(error) {  
            console.log("Không thể tự động phát âm thanh: ", error);  
        });  
    };  

</script>

<audio id="myAudio" loop autoplay>  
<source src="./happy-birthday.mp3" type="audio/mpeg">  
</audio> 


<script>
    document.addEventListener('mousemove', function(e){
        let body = document.querySelector('body');
        let heart = document.createElement('span');
        let x = e.offsetX;
        let y = e.offsetY;
        heart.style.left = x+'px';
        heart.style.top = y+'px';

        let size = Math.random() * 10;
        heart.style.width = 4 * size+'px';
        heart.style.height = 4 * size+'px';


        let transformValue = Math.random() * 360;
        heart.style.transform = 'rotate('+ transformValue +'deg)';

        body.appendChild(heart);

        setTimeout(function(){
            heart.remove();
        },1000)
    })


    // let mailBox = document.querySelector('.mail')
    // let boxmail = document.querySelector('.boxMail')
    // var close = document.querySelector('.fa-xmark')
    // mailBox.onclick = function(){
    //     mailBox.classList.toggle('active')
    //     boxmail.classList.add('active')
    // }

    // close.addEventListener('click', function(){
    //     boxmail.classList.remove('active')
    // })
</script>
</html>